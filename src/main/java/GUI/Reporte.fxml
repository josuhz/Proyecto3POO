<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.LineChart?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ProgressBar?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.AnchorPane?>

<AnchorPane prefHeight="716.0" prefWidth="710.0" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="GUI.controladorReporte">

    <!-- TabPane con las pestaÃ±as -->
    <TabPane layoutY="100.0" prefHeight="600.0" prefWidth="710.0" tabClosingPolicy="UNAVAILABLE">

        <!-- TAB 1: Resumen -->
        <!-- TAB 1: Resumen -->
        <Tab text="Resumen">
            <AnchorPane prefHeight="571.0" prefWidth="690.0">

                <!-- ========== SECCIÃ“N SUPERIOR: Estado General + Promedios ========== -->

                <!-- Tarjeta 1: Estado General - PuntuaciÃ³n -->
                <TextArea editable="false" layoutX="20.0" layoutY="23.0" prefHeight="117.0" prefWidth="152.0" style="-fx-border-color: #4CAF50; -fx-border-width: 2; -fx-background-color: white; -fx-control-inner-background: white;" text="Estado General &#10;&#10;PuntuaciÃ³n: 78/100 âœ…&#10;Estado: Bueno!" wrapText="true" />

                <!-- Tarjeta 2: Frecuencia CardÃ­aca -->
                <TextArea editable="false" layoutX="179.0" layoutY="23.0" prefHeight="116.0" prefWidth="161.0" style="-fx-border-color: #cccccc; -fx-border-width: 2; -fx-background-color: white; -fx-control-inner-background: white;" text="Frecuencia CardÃ­aca&#10;&#10;â¤ï¸ 62 BPM&#10;&#10;Estado: Normal" wrapText="true" />

                <!-- Tarjeta 3: SueÃ±o -->
                <TextArea editable="false" layoutX="350.0" layoutY="24.0" prefHeight="114.0" prefWidth="171.0" style="-fx-border-color: #cccccc; -fx-border-width: 2; -fx-background-color: white; -fx-control-inner-background: white;" text="SueÃ±o&#10;&#10;ðŸ˜´ 6.4 horas&#10;&#10;Estado: Bueno" wrapText="true" />

                <!-- Tarjeta 4: Actividad FÃ­sica -->
                <TextArea editable="false" layoutX="527.0" layoutY="24.0" prefHeight="115.0" prefWidth="174.0" style="-fx-border-color: #cccccc; -fx-border-width: 2; -fx-background-color: white; -fx-control-inner-background: white;" text="Actividad FÃ­sica&#10;&#10;ðŸƒ 8/12ðŸ”¥ pasos&#10;&#10;âš ï¸ 2/7ðŸ”¥ Calorias" wrapText="true" />

                <!-- ========== SECCIÃ“N MEDIA: GrÃ¡fico + Alertas ========== -->

                <!-- Ãrea del GrÃ¡fico (usando TextArea como placeholder) -->
                <TextArea editable="false" layoutX="20.0" layoutY="162.0" prefHeight="224.0" prefWidth="374.0" style="-fx-border-color: #cccccc; -fx-border-width: 1; -fx-background-color: white; -fx-control-inner-background: white; -fx-font-size: 12px;" text="Tendencia Frecuencia CardÃ­aca (4 semanas)&#10;&#10;" wrapText="true" />

                <!-- Panel de Alertas -->
                <TextArea fx:id="txtAlertas" editable="false" layoutX="408.0" layoutY="162.0" prefHeight="165.0" prefWidth="270.0" style="-fx-border-color: #cccccc; -fx-border-width: 1; -fx-background-color: white; -fx-control-inner-background: white; -fx-font-size: 11px;" text="Alertas de estadÃ­sticos&#10;&#10;ðŸ”´ 6 alertas de frecuencia cardÃ­aca elevada&#10;&#10;âš ï¸ 2/4 objetivos fÃ­sicos completados&#10;&#10;âš ï¸ 4 dÃ­as con sueÃ±o insuficiente&#10;&#10;âœ… 0 Alertas CrÃ­ticas" wrapText="true" />

                <!-- ========== SECCIÃ“N INFERIOR: Progreso de Metas ========== -->

                <TextArea editable="false" layoutX="20.0" layoutY="400.0" prefHeight="150.0" prefWidth="661.0" style="-fx-border-color: #cccccc; -fx-border-width: 1; -fx-background-color: white; -fx-control-inner-background: white; -fx-font-size: 12px;" text="Progreso de Metas&#10;&#10;10,000 pasos / dÃ­a: &#10;&#10;8 horas de sueÃ±o: &#10;&#10;Frecuencia en reposo &lt; 65 bpm: " wrapText="true" />
            <LineChart layoutX="30.0" layoutY="195.0" prefHeight="181.0" prefWidth="357.0">
              <xAxis>
                <CategoryAxis side="BOTTOM" />
              </xAxis>
              <yAxis>
                <NumberAxis side="LEFT" />
              </yAxis>
            </LineChart>
            <ProgressBar layoutX="208.0" layoutY="509.0" prefWidth="200.0" progress="0.86" />
            <ProgressBar layoutX="135.0" layoutY="475.0" prefWidth="200.0" progress="0.5" />
            <ProgressBar layoutX="135.0" layoutY="439.0" prefWidth="200.0" progress="0.74" />
            <ProgressBar layoutX="31.0" layoutY="108.0" prefHeight="18.0" prefWidth="100.0" progress="0.74" />

            </AnchorPane>
        </Tab>

        <!-- TAB 2: Cardiovascular -->
        <!-- TAB: Cardiovascular -->
        <Tab text="Cardiovascular">
            <AnchorPane style="-fx-background-color: #f0f0f0;">

                <!-- TÃ­tulo principal -->
                <Label layoutX="14.0" layoutY="14.0" style="-fx-font-size: 16px; -fx-font-weight: bold;" text="â¤ï¸ Resumen Salud Cardiovascular" />

                <Separator layoutX="0.0" layoutY="45.0" prefWidth="600.0" />

                <!-- ========== SECCIÃ“N IZQUIERDA: EstadÃ­sticos Principales ========== -->
                <Label layoutX="20.0" layoutY="60.0" style="-fx-font-size: 13px; -fx-font-weight: bold;" text="EstadÃ­sticos Principales" />

                <!-- Tabla de mÃ©tricas -->
                <TextArea editable="false" layoutX="20.0" layoutY="90.0" prefHeight="221.0" prefWidth="425.0" style="-fx-border-color: #cccccc; -fx-border-width: 1; -fx-background-color: white; -fx-control-inner-background: white; -fx-font-size: 12px; -fx-font-family: 'Courier New';" text="MÃ©trica                         Promedio      Rango&#10;&#10;Frecuencia CardÃ­aca en Reposo   68 BPM        40-75 BPM&#10;&#10;Frecuencia CardÃ­aca promedio    72 BPM        65-85 BPM&#10;&#10;Frecuencia MÃ¡xima               142 BPM       ejercicio&#10;&#10;Frecuencia MÃ­nima               58 BPM        durmiendo" wrapText="true" />

                <!-- ========== SECCIÃ“N DERECHA SUPERIOR: GrÃ¡fico de Tendencia ========== -->
                <Label layoutX="371.0" layoutY="317.0" style="-fx-font-size: 11px; -fx-font-weight: bold;" text="Tendencia Frecuencia CardÃ­aca en Reposo (4 semanas)" />

                <Label layoutX="371.0" layoutY="535.0" style="-fx-font-size: 10px; -fx-text-fill: #4CAF50;" text="âœ“ MejorÃ³: 5BPM en 4 semanas" />

                <!-- ========== SECCIÃ“N IZQUIERDA INFERIOR: DistribuciÃ³n por Hora ========== -->
                <Label layoutX="22.0" layoutY="317.0" style="-fx-font-size: 11px; -fx-font-weight: bold;" text="DistribuciÃ³n Frecuencia CardÃ­aca por Hora - DÃ­a" />

                <!-- GrÃ¡fico de distribuciÃ³n -->
                <LineChart fx:id="chartDistribucionHora" layoutX="20.0" layoutY="341.0" legendVisible="false" prefHeight="201.0" prefWidth="327.0" style="-fx-border-color: #cccccc; -fx-border-width: 1; -fx-background-color: white;">
                    <xAxis>
                        <CategoryAxis label="Hora del dÃ­a" side="BOTTOM" />
                    </xAxis>
                    <yAxis>
                        <NumberAxis label="BPM" lowerBound="40" side="LEFT" upperBound="120" />
                    </yAxis>
                </LineChart>

                <!-- ========== SECCIÃ“N DERECHA INFERIOR: Alertas Cardiovasculares ========== -->
                <Label layoutX="465.0" layoutY="62.0" style="-fx-font-size: 11px; -fx-font-weight: bold;" text="Alertas Cardiovasculares" />
         
                <!-- GrÃ¡fico -->
                <LineChart fx:id="chartTendenciaCardiovascular" layoutX="371.0" layoutY="341.0" legendVisible="false" prefHeight="185.0" prefWidth="303.0" style="-fx-border-color: #cccccc; -fx-border-width: 1; -fx-background-color: white;">
                    <xAxis>
                        <CategoryAxis side="BOTTOM" />
                    </xAxis>
                    <yAxis>
                        <NumberAxis lowerBound="50" side="LEFT" upperBound="100" />
                    </yAxis>
                </LineChart>
         
                <TextArea fx:id="txtAlertasCardiovasculares" editable="false" layoutX="465.0" layoutY="91.0" prefHeight="220.0" prefWidth="228.0" style="-fx-border-color: #cccccc; -fx-border-width: 1; -fx-background-color: white; -fx-control-inner-background: white; -fx-font-size: 11px;" text="* 3 Eventos de FC &gt; 110 BPM&#10;&#10;* 0 Eventos de bradicardia&#10;&#10;* HRV en Rango Saludable&#10;&#10;* 4 Alertas cardiovasculares" wrapText="true" />

            </AnchorPane>
        </Tab>

        <!-- TAB 3: SueÃ±o -->
        <!-- TAB: SueÃ±o -->
        <Tab text="SueÃ±o">
            <AnchorPane style="-fx-background-color: #f0f0f0;">

                <!-- TÃ­tulo principal -->
                <Label layoutX="14.0" layoutY="14.0" style="-fx-font-size: 16px; -fx-font-weight: bold;" text="ðŸ˜´ AnÃ¡lisis de SueÃ±o" />

                <Separator layoutX="0.0" layoutY="45.0" prefWidth="600.0" />

                <!-- ========== ESTADÃSTICAS DEL PERÃODO ========== -->
                <Label layoutX="20.0" layoutY="60.0" style="-fx-font-size: 13px; -fx-font-weight: bold;" text="EstadÃ­sticas del PerÃ­odo" />

                <TextArea editable="false" layoutX="22.0" layoutY="90.0" prefHeight="143.0" prefWidth="284.0" style="-fx-border-color: #cccccc; -fx-border-width: 1; -fx-background-color: white; -fx-control-inner-background: white; -fx-font-size: 11px;" text="Promedio por noche:    7.3      horas&#10;&#10;Rango:                 6.0 - 8.5  horas&#10;&#10;Eficiencia:            87%&#10;&#10;Interrupciones:        2.1        por noche" wrapText="true" />

                <!-- ========== DISTRIBUCIÃ“N POR FASES ========== -->
                <Label layoutX="343.0" layoutY="60.0" style="-fx-font-size: 13px; -fx-font-weight: bold;" text="DistribuciÃ³n por Fases" />

                <!-- Fases con barras de progreso -->
                <AnchorPane layoutX="343.0" layoutY="90.0" prefHeight="150.0" prefWidth="300.0" style="-fx-border-color: #cccccc; -fx-border-width: 1; -fx-background-color: white; -fx-padding: 10;">

                    <!-- Ligero -->
                    <Label layoutX="10.0" layoutY="10.0" style="-fx-font-size: 11px;" text="Ligero" />
                    <ProgressBar layoutX="70.0" layoutY="12.0" prefHeight="15.0" prefWidth="140.0" progress="0.52" style="-fx-accent: #C8E6C9;" />
                    <Label layoutX="220.0" layoutY="10.0" style="-fx-font-size: 10px; -fx-text-fill: #666;" text="52%    (3.8 hrs)" />

                    <!-- Profundo -->
                    <Label layoutX="10.0" layoutY="40.0" style="-fx-font-size: 11px;" text="Profundo" />
                    <ProgressBar layoutX="70.0" layoutY="42.0" prefHeight="15.0" prefWidth="140.0" progress="0.23" style="-fx-accent: #81C784;" />
                    <Label layoutX="220.0" layoutY="40.0" style="-fx-font-size: 10px; -fx-text-fill: #666;" text="23%    (1.7 hrs)" />

                    <!-- REM -->
                    <Label layoutX="10.0" layoutY="70.0" style="-fx-font-size: 11px;" text="REM" />
                    <ProgressBar layoutX="70.0" layoutY="72.0" prefHeight="15.0" prefWidth="140.0" progress="0.21" style="-fx-accent: #66BB6A;" />
                    <Label layoutX="220.0" layoutY="70.0" style="-fx-font-size: 10px; -fx-text-fill: #666;" text="21%    (1.5 hrs)" />

                    <!-- Despierto -->
                    <Label layoutX="10.0" layoutY="100.0" style="-fx-font-size: 11px;" text="Despierto" />
                    <ProgressBar layoutX="70.0" layoutY="102.0" prefHeight="15.0" prefWidth="140.0" progress="0.04" style="-fx-accent: #E0E0E0;" />
                    <Label layoutX="220.0" layoutY="100.0" style="-fx-font-size: 10px; -fx-text-fill: #666;" text="4%     (0.3 hrs)" />
                </AnchorPane>

                <!-- ========== TENDENCIA HORAS DE SUEÃ‘O ========== -->
                <Label layoutX="22.0" layoutY="256.0" style="-fx-font-size: 12px; -fx-font-weight: bold;" text="Tendencia Horas de SueÃ±o (6 semanas)" />

                <LineChart fx:id="chartTendenciaSueno" layoutX="22.0" layoutY="298.0" legendVisible="false" prefHeight="192.0" prefWidth="306.0" style="-fx-border-color: #cccccc; -fx-border-width: 1; -fx-background-color: white;">
                    <xAxis>
                        <CategoryAxis side="BOTTOM" />
                    </xAxis>
                    <yAxis>
                        <NumberAxis label="hrs" lowerBound="5.0" side="LEFT" upperBound="9.0" />
                    </yAxis>
                </LineChart>

                <!-- LÃ­nea de meta -->
                <Label layoutX="227.0" layoutY="501.0" prefHeight="22.0" prefWidth="116.0" style="-fx-font-size: 9px; -fx-text-fill: #999;" text="- - - - - - - - Meta (7.5 hrs)" />

                <Label layoutX="60.0" layoutY="580.0" style="-fx-font-size: 10px; -fx-text-fill: #666;" text="Meta alcanzada: 18 de 41 noches  (44%)" />
                

                <!-- ========== OBSERVACIONES ========== -->
                <Label layoutX="367.0" layoutY="256.0" style="-fx-font-size: 12px; -fx-font-weight: bold;" text="Patron Semanal" />
            <BarChart layoutX="367.0" layoutY="298.0" prefHeight="244.0" prefWidth="322.0">
              <xAxis>
                <CategoryAxis side="BOTTOM" />
              </xAxis>
              <yAxis>
                <NumberAxis side="LEFT" />
              </yAxis>
            </BarChart>

            </AnchorPane>
        </Tab>
        <!-- TAB 4: Actividad FÃ­sica -->
        <!-- TAB: Actividad FÃ­sica -->
        <Tab text="Actividad FÃ­sica">
            <AnchorPane prefHeight="611.0" prefWidth="715.0" style="-fx-background-color: #f0f0f0;">

                <!-- TÃ­tulo principal -->
                <Label layoutX="14.0" layoutY="14.0" style="-fx-font-size: 16px; -fx-font-weight: bold;" text="ðŸƒ Actividad FÃ­sica" />

                <!-- ========== ESTADÃSTICAS DEL PERÃODO ========== -->
                <Label layoutX="11.0" layoutY="51.0" style="-fx-font-size: 13px; -fx-font-weight: bold;" text="EstadÃ­sticas del PerÃ­odo" />

                <TextArea editable="false" layoutX="48.0" layoutY="77.0" prefHeight="128.0" prefWidth="331.0" style="-fx-border-color: #cccccc; -fx-border-width: 1; -fx-background-color: white; -fx-control-inner-background: white; -fx-font-size: 11px;" text="Pasos promedio/dÃ­a:        9,247&#10;&#10;Distancia promedio:        6.8   km/dÃ­a&#10;&#10;CalorÃ­as promedio:         412   kcal/dÃ­a&#10;&#10;Minutos activos:           78    min/dÃ­a" wrapText="true" />

                <!-- ========== DISTRIBUCIÃ“N POR FASES ========== -->
                <Label layoutX="20.0" layoutY="215.0" style="-fx-font-size: 13px; -fx-font-weight: bold;" text="DistribuciÃ³n por Fases" />

                <AnchorPane layoutX="48.0" layoutY="240.0" prefHeight="110.0" prefWidth="310.0" style="-fx-border-color: #cccccc; -fx-border-width: 1; -fx-background-color: white; -fx-padding: 15;">

                    <!-- Barra de progreso de meta -->
                    <ProgressBar layoutX="10.0" layoutY="15.0" prefHeight="20.0" prefWidth="180.0" progress="0.42" style="-fx-accent: #81C784;" />
                    <Label layoutX="200.0" layoutY="17.0" style="-fx-font-size: 11px; -fx-text-fill: #666;" text="42%  de la meta" />

                    <!-- DÃ­as con meta -->
                    <Label layoutX="10.0" layoutY="50.0" style="-fx-font-size: 11px;" text="DÃ­as con meta: 28 de 41  (68 %)" />

                    <!-- Racha actual -->
                    <Label layoutX="10.0" layoutY="75.0" style="-fx-font-size: 11px;" text="Racha actual:" />
                    <Label layoutX="100.0" layoutY="75.0" style="-fx-font-size: 11px; -fx-text-fill: #FF6F00; -fx-font-weight: bold;" text="ðŸ”¥ 5 dÃ­as" />
                </AnchorPane>

                <!-- ========== TENDENCIA PASOS DIARIOS ========== -->
                <Label layoutX="20.0" layoutY="370.0" style="-fx-font-size: 12px; -fx-font-weight: bold;" text="Tendencia Pasos Diarios (6 semanas)" />

                <LineChart fx:id="chartTendenciaPasos" layoutX="48.0" layoutY="395.0" legendVisible="false" prefHeight="160.0" prefWidth="310.0" style="-fx-border-color: #cccccc; -fx-border-width: 1; -fx-background-color: white;">
                    <xAxis>
                        <CategoryAxis side="BOTTOM" />
                    </xAxis>
                    <yAxis>
                        <NumberAxis label="pasos" lowerBound="6000" side="LEFT" upperBound="12000" />
                    </yAxis>
                </LineChart>

                <!-- LÃ­nea de meta -->
                <Label layoutX="95.0" layoutY="435.0" style="-fx-font-size: 9px; -fx-text-fill: #999;" text="- - - - - - - - Meta (7.5 km)" />

                <Label layoutX="53.0" layoutY="560.0" style="-fx-font-size: 10px; -fx-text-fill: #4CAF50; -fx-font-weight: bold;" text="ðŸ“ˆ MejorÃ³: +15 % vs Semana 1" />

                <!-- ========== DISTRIBUCIÃ“N SEMANAL ========== -->
                <Label layoutX="412.0" layoutY="31.0" style="-fx-font-size: 12px; -fx-font-weight: bold;" text="DistribuciÃ³n Semanal" />

                <BarChart fx:id="chartDistribucionSemanal" layoutX="403.0" layoutY="60.0" legendVisible="false" prefHeight="195.0" prefWidth="283.0" style="-fx-border-color: #cccccc; -fx-border-width: 1; -fx-background-color: white;">
                    <xAxis>
                        <CategoryAxis side="BOTTOM" />
                    </xAxis>
                    <yAxis>
                        <NumberAxis label="pasos" lowerBound="6000" side="LEFT" upperBound="12000" />
                    </yAxis>
                </BarChart>

                <!-- ========== OBJETIVOS Y LOGROS ========== -->
                <Label layoutX="403.0" layoutY="279.0" style="-fx-font-size: 12px; -fx-font-weight: bold;" text="Objetivos y Logros" />

                <TextArea fx:id="txtObjetivosActividad" editable="false" layoutX="406.0" layoutY="310.0" prefHeight="250.0" prefWidth="278.0" style="-fx-border-color: #cccccc; -fx-border-width: 1; -fx-background-color: white; -fx-control-inner-background: white; -fx-font-size: 11px;" text="ðŸŽ¯ Objetivos del Mes:&#10;&#10;âœ… 10,000 pasos/dÃ­a: 68%&#10;âš ï¸ 5 km/dÃ­a: 45%&#10;âœ… 500 kcal/dÃ­a: 82%&#10;âš ï¸ 90 min activos: 38%&#10;&#10;ðŸ† Logros Recientes:&#10;&#10;â€¢ Mejor dÃ­a: 14,230 pasos&#10;â€¢ Racha mÃ¡xima: 12 dÃ­as&#10;â€¢ 3 dÃ­as &gt; 12,000 pasos" wrapText="true" />

            </AnchorPane>
        </Tab>

    </TabPane>
   <TextArea layoutX="12.0" layoutY="14.0" prefHeight="80.0" prefWidth="687.0" text="Reporte de Salud - Juan Tilin&#10;&#10;ðŸ—“ï¸Periodo de anÃ¡lisis: [Fecha]" />
   <Button layoutX="587.0" layoutY="47.0" mnemonicParsing="false" prefHeight="36.0" prefWidth="98.0" text="&lt;- Dashboard" />

</AnchorPane>
